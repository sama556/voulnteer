(self.modernJsonp=self.modernJsonp||[]).push([["93225"],{121366:function(e,t,a){a.d(t,{Z:()=>r});var s=a(667016);async function r(e,t){let{api:a}=(0,s.t)(),r=(0,s.u)();try{r.attempt("setMultipleBizEntityPropertiesFullUpdate",t);let s=new Date().getTime(),o=await a.put("/ads/v4/business_entities",e,!1);return r.success("setMultipleBizEntityPropertiesFullUpdate",t),r.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-s,t),o}catch(e){throw r.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}}(0,s.u)()},537685:function(e,t,a){a.d(t,{Z:()=>O});var s=a(281098),r=a(667294),o=a(578341),n=a(901472),l=a(515085),i=a(240402),d=a(15667),_=a(707353),u=a(581722),c=a(821342);let E=()=>{let e=(0,c.Z)(),t=(0,u.v9)(({loggedOutUserInfo:e})=>e?.userInfo);return e.isAuth&&e.isLimitedLogin?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!((e.socialNetwork||{}).facebook||{}).connected,connectedToGoogle:!!((e.socialNetwork||{}).gplus||{}).connected,email:e.email,firstName:e.firstName,hasPassword:!!e.hasPassword,imageUrl:e.imageMediumUrl,gplusUrl:((e.socialNetwork||{}).gplus||{}).url}}:{type:e.isAuth?"AUTH":"UNAUTH",info:t&&t.email&&t.first_name?{connectedToFacebook:!!t.connected_to_facebook,connectedToGoogle:!!t.connected_to_google,email:t.email,firstName:t.first_name,hasPassword:!!t.has_password,imageUrl:t.medium_image_url??null}:null}};var p=a(848387),S=a(521009),T=a(19585),y=a(647709),m=a(732347),A=a(703914),g=a(785893);function C({children:e}){let t=function(){let e=(()=>{let[e,t]=(0,r.useState)(!1),a=(0,S.Z)();return(0,A.UE)(()=>t(!0)),(0,A.NN)(a),{visible:e,setVisible:t}})();return{loginForMore:e,limitedLoginModalSubheader:(()=>{let e=(0,T.Z)(),t=(0,y.HG)(),a=(0,S.Z)(),s=t?(0,m.hr)(e):(0,m.Wh)(e),[o,n]=(0,r.useState)(s);return(0,A.cZ)(e=>n(e??s)),(0,A.NN)(a),{text:o,setText:n}})(),limitedLoginModalNextLocation:(()=>{let[e,t]=(0,r.useState)("");return{route:e,setRoute:t}})(),viewer:E()}}();return(0,g.jsx)(p.o,{value:t,children:e})}function h({children:e}){let t=(0,d.B)(),a=E(),s=(()=>{let e=(0,o.Z)();return(0,r.useCallback)((t,a)=>e(t,{loggingOptions:a}),[e])})(),i=(0,r.useMemo)(()=>({getDeviceAppTypeString:()=>(0,l.Z)(t),register:s,viewer:a}),[t,a,s]);return(0,g.jsx)(n.I7,{value:i,children:e})}let O=({children:e})=>((0,r.useEffect)(()=>{(0,s.Z)("AppContextProvider","/app/common/lib/AppContextProvider.tsx")},[]),(0,g.jsx)(_.iE,{children:(0,g.jsx)(C,{children:(0,g.jsx)(h,{children:(0,g.jsx)(i.Z,{children:e})})})}))},21954:function(e,t,a){a.d(t,{m:()=>u,r:()=>c});var s=a(667294),r=a(729434),o=a(832651),n=a(675973),l=a(15667),i=a(886981),d=a(785893);let{Provider:_,get:u}=(0,r.Z)("PinRep");function c({children:e}){let{isAuthenticated:t}=(0,l.B)(),{checkExperiment:a}=(0,n.Z)(),{experience:r}=(0,o.Ow)(1000069),[u,c]=(0,s.useState)(!0),[E,p]=(0,s.useState)(!1),[S,T]=(0,s.useState)(!1),[y,m]=(0,s.useState)(null),[A,g]=(0,s.useState)(null),C=(0,o.oS)(1000069),{anyEnabled:h}=a("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),O=(0,i.Z)(t&&h?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,s.useEffect)(()=>{if(!t)return void c(!1);r&&(!r||r?.experience_id===500417&&r?.display_data.hide_footer)?C.viewExperience(1000069,500417):c(!1),p(!0)},[r]);let R=(0,s.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:S,hasSimplifiedPinGridExpLoaded:E,hidePinRepFooter:u,quickSaveBoardId:O,setHasMetSaveRequirementOnUseCaseFeed:T,setUseCaseFeedOriginalPinId:g,setUseCaseFeedRepinId:m,useCaseFeedOriginalPinId:A,useCaseFeedRepinId:y}),[S,E,u,O,T,g,m,A,y]);return(0,d.jsx)(_,{value:R,children:e})}},77168:function(e,t,a){a.d(t,{H:()=>m,g:()=>y});var s=a(667294),r=a(763208),o=a(872799),n=a(414071),l=a(785873),i=a(86295),d=a(789877),_=a(729434),u=a(686319),c=a(821342),E=a(805205),p=a(572257),S=a(785893);let{Provider:T,get:y}=(0,_.Z)("BusinessHierarchyContext"),m=({children:e})=>{let[t,a]=(0,s.useState)([]),[_,y]=(0,s.useState)([]),[m,A]=(0,s.useState)(!1),[g,C]=(0,s.useState)(!1),[h,O]=(0,s.useState)(null),[R,I]=(0,s.useState)(null),[f,D]=(0,s.useState)([]),[N,M]=(0,s.useState)({}),b=(0,p.Z)(),v=(0,s.useRef)(b),P=(0,c.Z)(),L=(0,r.Z)(),w=(0,s.useRef)({}),x=(0,s.useCallback)((e,t)=>{let a;t===o.Oz.BUSINESS_HIERARCHY?a=(0,d.Z)(i.Q6.DASHBOARD,"","",e):t===o.Oz.BUSINESS_ACCOUNT&&(a=(0,d.Z)(i.Q6.DASHBOARD,e));let s=(0,E.Z)({site:"www",path:a});(0,l.Z)(s)},[]),U=P.isAuth,{id:k="",username:Z="",email:F="",fullName:B="",imageSmallUrl:G="",imageMediumUrl:j="",isAuth:H}=P.isAuth?P:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},$=(0,s.useCallback)(async e=>{if(!L)return[];if(C(!0),w.current[e])return C(!1),w.current[e];{let{data:t}=(await (0,u.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,a=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=o.Oz.USER_ACCOUNT,e))),e))||[],s=/^\d+$/.test(e),r=RegExp(e.toLowerCase(),"g"),l=[];R||I(l=await v.current());let i=(R??l).filter(t=>s?t.id.includes(e):t.user.full_name.toLowerCase().match(r)).map(n.IT),d=[...a.map(e=>e.id),...i.map(e=>e.id)];return U&&(s?(k||"").includes(e):(B||"").toLowerCase().match(r))&&d.push(k),w.current[e]=d,C(!1),d}},[L,v,U,k,B,R]),V=async(e,t)=>{if((!H||!L||R)&&!e)return;A(!0);let s=[];try{let{data:e}=(await (0,u.Z)({url:"ads/v4/business_access/business_hierarchies/"})).resource_response;s=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=o.Oz.USER_ACCOUNT,e))),e))||[],a(s)}catch{a([])}try{let a=[];(!R||e)&&(a=await v.current(),y(a.filter(e=>t&&R&&!R.some(({id:t})=>t===e.id)).map(e=>e.user.full_name)),I(a));let r=e?a:R??a;D(r.map(n.IT)),M(r.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),O((0,n.WP)({id:k,username:Z,email:F,fullName:B,imageSmallUrl:G,imageMediumUrl:j})),w.current[""]=[...s.map(e=>e.id),...r.map(n.IT).map(e=>e.id),k],A(!1)}catch{A(!1)}},z=(0,s.useCallback)(V,[k,Z,F,B,G,j,H,L,R]),W=(0,s.useCallback)(e=>t.some(t=>t.id===e||"children"in t&&t.children.some(t=>t.id===e||t.user.id===e)),[t]),K=(0,s.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),q=(0,s.useCallback)(()=>{y([])},[y]),Y=(0,s.useMemo)(()=>({businessHierarchies:[...h?.id&&!W(h.id)?[h]:[],...t,...f.filter(e=>!W(e.id))],switchAccount:x,searchAccounts:$,loadingAccounts:m,isSearchingAccounts:g,fetchData:z,getParentHierarchyForIdIfExists:K,viewerRolesOfEachEmployer:N,tooltipEmployers:_,hideTooltip:q}),[t,x,$,f,m,g,h,z,W,K,N,_,q]);return(0,S.jsx)(T,{value:Y,children:e})}},855860:function(e,t,a){a.d(t,{r:()=>m,Z:()=>y});var s=a(667294),r=a(473354),o=a(121366),n=a(686319),l=a(667016);let i=async(e,t)=>{let{statsLog:a}=(0,l.t)();try{let s=new Date,r=await (0,n.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),o=new Date;return a&&(a.success("getMultipleBizEntityProperties",t),a.latency("getMultipleBizEntityProperties",o.getTime()-s.getTime(),t)),r.resource_response.data}catch(e){throw a&&a.failure("getMultipleBizEntityProperties",t),e}},d=async(e,t,a="PUT")=>{let{statsLog:s}=(0,l.t)();try{let r=new Date,o=await (0,n.Z)({url:"/ads/v4/business_entities",data:e,method:a}),l=new Date;return s&&(s.success("setMultipleBizEntityPropertiesFullUpdate",t),s.latency("setMultipleBizEntityPropertiesFullUpdate",l.getTime()-r.getTime(),t)),o.resource_response.data}catch(e){throw s&&s.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var _=a(729434),u=a(657043),c=a(821342),E=a(675973),p=a(603316),S=a(785893);let{Provider:T,get:y}=(0,_.Z)("CustomShortcutsContext"),m=({children:e})=>{let t=(0,c.Z)(),a=t.isAuth?t.id:void 0,n=t.isAuth&&t.isPartner,l=t.isAuth&&t.isLimitedLogin,_=(0,E.Z)(),[y,m]=(0,s.useState)({}),A=(0,s.useCallback)(async()=>{let{anyEnabled:e}=_.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),t=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(a&&n&&!l&&t)try{let t;t=e?i:r.Z;let s=(await t([{entity_id:a,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(s&&s.properties))return;let o=s.properties.NAVBAR_CONFIG;m(o?.customShortcuts||{})}catch(e){(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:a,error:(0,u.Z)(e,"message")}})}},[a,n,l,_]),g=(0,s.useCallback)(async e=>{let{anyEnabled:t}=_.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!a)return(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:a,error:"Auth_Error"}}),{error:"Auth_Error"};try{let s;s=t?d:o.Z;return await s([{entity_id:a,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),A(),{error:null}}catch(e){return(0,p.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:a,error:(0,u.Z)(e,"message")}}),{error:"Upsert_Error"}}},[a,_,A]);(0,s.useEffect)(()=>{A()},[A]);let C=(0,s.useMemo)(()=>({shortcuts:y,upsertShortcuts:g}),[y,g]);return(0,S.jsx)(T,{value:C,children:e})}},78423:function(e,t,a){a.d(t,{H7:()=>E,CB:()=>p});var s=a(667294),r=a(729434),o=a(281098),n=a(20256),l=a(686319),i=a(982166),d=a(19585),_=a(785893);let u=({onConfirm:e})=>{(0,s.useEffect)(()=>{(0,o.Z)("EmailVerificationReminderModal","/app/packages/EmailVerificationReminderModal/EmailVerificationReminderModal.tsx")},[]);let t=(0,d.Z)(),[a,r]=(0,s.useState)(!1),u=()=>{r(!0),(0,l.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,_.jsx)(i.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,_.jsxs)(n.kC,{gap:{row:2,column:0},justifyContent:"end",children:[a?(0,_.jsx)(n.zx,{color:"gray",disabled:a,fullWidth:!0,onClick:u,size:"lg",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,_.jsx)(n.zx,{color:"gray",disabled:a,fullWidth:!0,onClick:u,size:"lg",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,_.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,role:"alertdialog",children:(0,_.jsx)(n.xu,{padding:8,children:(0,_.jsx)(n.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:c,get:E}=(0,r.Z)("EmailVerificationReminderModal");function p({children:e}){let[t,a]=(0,s.useState)(!1),r=(0,s.useMemo)(()=>({showEmailVerificationReminderModal:()=>{a(!0)}}),[]);return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)(c,{value:r,children:e}),t&&(0,_.jsx)(u,{onConfirm:()=>{a(!1)}})]})}},312268:function(e,t,a){a.d(t,{Z:()=>H});var s=a(281098),r=a(667294),o=a(581722),n=a(980787),l=a(575108),i=a(918920),d=a(672431),_=a(83896),u=a(973160),c=a(816358),E=a(809295),p=a(121793),S=a(603316);function T(e,t,a){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let y=null;class m{constructor(e){var t;let a;T(this,"_logTimeoutLong",void 0),T(this,"_logTimeoutShort",void 0),T(this,"_clickthroughStartEvent",null),T(this,"_utcDate",new Date),T(this,"_collectionClickthroughEndEvent",null),this._webFastFlushEventsEnabled=e.webFastFlushEventsEnabled,this._isDecreaseSkipCachedEventsExperimentEnabled=e.isDecreaseSkipCachedEventsExperimentEnabled,this._isRetryV2ExperimentEnabled=e.isRetryV2ExperimentEnabled,this._contextLogger=(0,_.ZP)(e.webFastFlushEventsEnabled,e.webAuxDataErrorClassEnabled);let s=()=>{let{activeElement:e}=document;if(e&&e.id===i.ZP.VIDEO_IFRAME_ID&&e)return void setTimeout(()=>e.blur(),0);c.Z.pause(E.LU),this.flushEvents()},r=(t=()=>s(),a=!1,(...e)=>{a||(a=!0,t(...e))}),o=()=>{c.Z.resume(E.LU)};{this._contextLogger&&this._contextLogger.initiateIndexDBCache&&this._contextLogger.initiateIndexDBCache(),this._contextLogger&&(this._isRetryV2ExperimentEnabled&&this._contextLogger._setRetryV2ExperimentState?.(this._isRetryV2ExperimentEnabled),this._isDecreaseSkipCachedEventsExperimentEnabled&&this._contextLogger._setDecreaseSkipCachedEventsExperimentState?.(this._isDecreaseSkipCachedEventsExperimentEnabled)),window.addEventListener("beforeunload",r),window.addEventListener("pagehide",r),window.addEventListener("focus",o),window.addEventListener("blur",()=>s());let{hidden:e,visibilityChange:t}=(0,u.sR)(),a=()=>{document[e]?s():(this.flushEvents(),o())};t&&window.addEventListener(t,a,!1)}}setTimeoutToFlushEvents(e){!this._logTimeoutShort&&(!this._webFastFlushEventsEnabled&&e.view_type&&d.I3.includes(e.view_type)&&13===e.event_type||this._webFastFlushEventsEnabled&&(0,u.Q9)(e))?this._logTimeoutShort=setTimeout(this.flushEvents.bind(this,!1,!0),d.aD):this._logTimeoutLong||(this._logTimeoutLong=setTimeout(this.flushEvents.bind(this),d.YX))}addEvent(e,t){let a=e.event_type;if(null==a||!(0,_.cA)(e))return;this.setTimeoutToFlushEvents(e);let s=(0,_.li)(e,t);s.appState=document&&document.hasFocus()?0:void 0;let r=_.Ch[a];if(r&&1){if(r.startsWith("storyImpression")){s.event_data?.storyImpressions&&(s.event_data.storyImpression=s.event_data.storyImpressions,delete s.event_data.storyImpressions),this._contextLogger.logImpression((0,_.a)(s,"storyImpression"));return}(0,_.nc)(s,r).forEach(this._contextLogger.logImpression);return}if((0,S.nP)("webapp.contextLogger.impressionType",{sampleRate:.01,tags:{event_type:a}}),this._contextLogger.logContextEvent(s),12===a&&(this._contextLogger.logContextEvent({...s,event_type:7946}),this._clickthroughStartEvent={...s,time:1e6*Date.now()},y?.storeClickthroughProperties({view_type:s.view_type,view_parameter:s.view_parameter,component:s.component,element:s.element,object_id_str:s.object_id_str,view_data:s.view_data,aux_data:s.aux_data,clientTrackingParams:s.clientTrackingParams})),7761===a||7762===a){let e=7761===a?7777:7843;this._collectionClickthroughEndEvent={...s,event_type:e}}if(4100===a&&this._collectionClickthroughEndEvent){let e=this._collectionClickthroughEndEvent;this._collectionClickthroughEndEvent=null;let t={...e,object_id_str:s.object_id_str,duration_ns:s.duration_ns};this._contextLogger.logContextEvent(t)}}flushEvents(){let e=this._contextLogger.getContextEvents?.();e&&e.length&&this._contextLogger.flushContextEvents(),this._reset()}_reset(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}_resetShortTimerEvents(){this._contextLogger.resetEventsBuffer?.(),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=void 0}_resetLongTimerEvents(){this._contextLogger.resetEventsBuffer?.(),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=void 0}}var A=a(832651),g=a(894199),C=a(821342),h=a(312048),O=a(573631),R=a(503863),I=a(785893);function f({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("NotificationContext","/app/packages/notifications/NotificationContext.tsx")},[]);let t=(0,h.TH)(),a=(0,O.b)(),o=(0,r.useMemo)(()=>{if(a){let e=new URLSearchParams(t.search);if(!e.get("url")){let t=e.get("tracking_id")||e.get("e_t"),a=e.get("utm_campaign"),s=e.get("utm_source");if(t&&a&&s)return JSON.stringify({message_type:a,tracking_id:t,utm_source:s})}}},[a,t.search]),n=(0,r.useMemo)(()=>({landingContext:o}),[o]);return(0,I.jsx)(R.T,{value:n,children:e})}var D=a(675973),N=a(15667),M=a(440568),b=a(72918),v=a(82347),P=a(707079),L=a(998212),w=a(341742);function x({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("TimeSpentManagerContext","/app/packages/time-spent/TimeSpentManagerContext.tsx")},[]);let t=(0,n.u)(),a=(0,p.w)({contextLogger:t});return(0,w.Z)(()=>{document.hasFocus()&&a.registerApp(),a.addEventListeners()}),(0,I.jsx)(L.$,{value:a,children:e})}var U=a(572572),k=a(650906),Z=a(975740),F=a(169053),B=a(793698);function G({children:e}){let t=(0,B.dM)(),a=Object.keys(t).find(e=>void 0!==t[e].login_state),s=a?t[a]:void 0,o=(0,r.useMemo)(()=>(0,U.Z)(s),[s]),n=(0,N.gf)(),{isAuth:l}=o,{isAuthenticated:i}=(0,N.B)();return(0,r.useEffect)(()=>{i!==l&&n({isAuthenticated:l})},[i,l]),(0,I.jsx)(C.$,{value:o,children:e})}function j({children:e}){let t=(0,D.Z)(),a=(0,F.JC)(),s=(0,r.useRef)(e=>a[e]);(0,r.useEffect)(()=>{s.current=e=>a[e]},[a]);let o=(0,r.useMemo)(()=>(function({getReduxPin:e,webFastFlushEventsEnabled:t=!1,isRetryV2ExperimentEnabled:a=!1,isDecreaseSkipCachedEventsExperimentEnabled:s=!1,webAuxDataErrorClassEnabled:r=!1}){let o=new m({webFastFlushEventsEnabled:t,isRetryV2ExperimentEnabled:a,isDecreaseSkipCachedEventsExperimentEnabled:s,webAuxDataErrorClassEnabled:r});window.addEventListener&&window.addEventListener("focus",()=>{if(!o._clickthroughStartEvent)return;let e=o._clickthroughStartEvent;o._clickthroughStartEvent=null;let t={...e,event_type:4100,duration_ns:(0,u.ZP)()-e.time};o.addEvent(t)}),o._contextLogger._getIndexDBInstance?.()&&o._contextLogger.syncCachedEndEvents?.();let n={flushContextEvents:()=>o.flushEvents(),logContextEvent:t=>{if(null===t.event_type||void 0===t.event_type)return;let a=t.clientTrackingParams||(t=>{try{let a=t?e(t):void 0;return a?`${a.tracking_params??""}~0`:void 0}catch{return}})(t.object_id_str);o.addEvent({...t,clientTrackingParams:a},n.injectSetViewContextDataFromHook)},logImpression:({auxData:e,component:t,eventData:a,eventType:s,impressionType:r,objectIdStr:l,viewData:i,viewParameter:d,viewType:_,element:u})=>{null!=s&&o.addEvent({event_type:s,event_data:{[r]:a},component:t,object_id_str:l,aux_data:e,view_type:_,view_parameter:d,view_data:i,element:u},n.injectSetViewContextDataFromHook)}};return y=(0,p.w)({contextLogger:n}),l.Z.contextLogger=n,n})({getReduxPin:e=>s.current(e),webFastFlushEventsEnabled:t.checkExperiment("cli_fast_flush_events").anyEnabled,isRetryV2ExperimentEnabled:t.checkExperiment("web_metrics_retry_v2").anyEnabled,isDecreaseSkipCachedEventsExperimentEnabled:t.checkExperiment("web_metrics_decrease_skip_cached_events").anyEnabled,webAuxDataErrorClassEnabled:t.checkExperiment("web_aux_data_error_class").anyEnabled}),[t]);return(0,I.jsx)(n.B,{value:o,children:e})}function H(e){(0,r.useEffect)(()=>{(0,s.Z)("WebappWithReduxProvider","/app/packages/WebappWithReduxProvider.tsx")},[]);let{children:t,reduxStore:a,serverState:n,...i}=e,d=(0,r.useRef)(!1),_=(0,r.useMemo)(()=>new P.ZP,[]);return d.current||(!function(e,t){if(!window)return;let a={},s=(e,s)=>{let r=decodeURIComponent(s),o=new Promise(t=>{a[e]||(a[e]={}),a[e][r]=t});t.add(e,r,o)},r=t=>{let{normalizedResponse:s,options:r,resource:o,response:n,schema:i}=(0,v.Z)(t);n.resource_response.error?408!==n.resource_response.error.http_status&&e.dispatch((0,b.Tl)(o,r,n.resource_response.error)):(l.Z.fetchCompleteCallback&&l.Z.fetchCompleteCallback({resource:o,options:r,response:n,normalizedResponse:s,refresh:!1,resourceSchema:i}),e.dispatch((0,b.Sr)(o,r,n,s,!1,i))),a[o]?.[(0,M.Z)(r)]?.()};window.__PWS_RESOURCE_PENDING_FETCH_HANDLER__=s,window.__PWS_RESOURCE_SSR_HANDLER__=r;let o=Object.keys(window.__PWS_RESOURCE_PENDING_BEFORE_INIT__);o.length&&(o.forEach(e=>{window.__PWS_RESOURCE_PENDING_BEFORE_INIT__[e].forEach(t=>{s(e,t)})}),window.__PWS_RESOURCE_PENDING_BEFORE_INIT__={}),window.__PWS_RESOURCE_DATA_BEFORE_INIT__.length&&(window.__PWS_RESOURCE_DATA_BEFORE_INIT__.forEach(r),window.__PWS_RESOURCE_DATA_BEFORE_INIT__=[])}(a,_),d.current=!0),(0,I.jsx)(k.Z,{...i,children:(0,I.jsx)(P.F_,{value:_,children:(0,I.jsx)(o.zt,{store:a,children:(0,I.jsx)(Z.fJ,{children:(0,I.jsx)(F._S,{children:(0,I.jsx)(B.kY,{children:(0,I.jsx)(G,{children:(0,I.jsx)(j,{children:(0,I.jsx)(A.FH,{children:(0,I.jsx)(f,{children:(0,I.jsx)(x,{children:(0,I.jsx)(g.GF,{children:t})})})})})})})})})})})})}},789877:function(e,t,a){a.d(t,{Z:()=>o});let s="/business/business-manager/",r="/business/business-hierarchy/",o=(e,t,a,o)=>{switch(e){case"DASHBOARD":return o?`${r}${String(o)}/dashboard/`:`${s}${String(t)}/dashboard/`;case"MEDIA_NETWORK_DASHBOARD":return`${s}${String(t)}/media-network-hub/dashboard/`;case"PEOPLE":return`${s}${String(t)}/employees/`;case"PARTNERS":return`${s}${String(t)}/partners/`;case"AD_ACCOUNTS":return`${s}${String(t)}/ad-accounts/`;case"HISTORY":return`${s}${String(t)}/history/`;case"PEOPLE_DETAIL":return`${s}${String(t)}/employees/${String(a)}/details/`;case"PARTNERS_DETAIL":return`${s}${String(t)}/partners/${String(a)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${s}${String(t)}/shared/${String(a)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${s}${String(t)}/ad-accounts/${String(a)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${s}${String(t)}/ad-accounts/pending/${String(a)}/details/`;case"PEOPLE_PENDING_TAB":return`${s}${String(t)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${s}${String(t)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${s}${String(t)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${s}${String(t)}/ad-accounts/cee-migration`;case"PROFILES":return`${s}${String(t)}/profiles/`;case"PROFILES_DETAIL":return`${s}${String(t)}/profiles/${String(a)}/details/`;case"BUSINESS_SECURITY":return`${s}${String(t)}/security/`;case"ASSET_GROUPS":return a?`${s}${String(t)}/asset-groups/?asset_group_id=${String(a)}`:`${s}${String(t)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${s}${String(t)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${r}${String(o)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${r}${String(o)}/business_security/`;case"MANAGERS":return`${r}${String(o)}/managers/`;case"AUDIENCES":return`${s}${String(t)}/audiences/`;case"SHARED_TAGS":return`${s}${String(t)}/shared-tags/`;case"CATALOGS":return`${s}${String(t)}/catalogs/`;case"CATALOGS_DETAIL":return`${s}${String(t)}/catalogs/${String(a)}/details/`;case"BRAND_SAFETY":return`${s}${String(t)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${s}${String(t)}/settings/`;case"SYSTEM_USERS":return`${s}${String(t)}/system-users/`;case"APPS":return`${s}${String(t)}/apps/`;case"CONVERSION_DATA":return`${s}${String(t)}/conversion-data/`;default:return s}}},901472:function(e,t,a){a.d(t,{Cw:()=>n,I7:()=>i,Py:()=>d,c4:()=>l});var s=a(667294),r=a(729434);let o=(0,s.createContext)(null),n=()=>(0,s.useContext)(o),l=o,{Provider:i,get:d}=(0,r.Z)("DesktopCoreLogin")},578341:function(e,t,a){a.d(t,{Z:()=>v});var s=a(667294),r=a(255581),o=a(575108),n=a(111330),l=a(296086),i=a(521009),d=a(464332),_=a(855872),u=a(801406),c=a(981636),E=a(638957),p=a(2420),S=a(947667),T=a(675973),y=a(154796),m=a(450978),A=a(15667),g=a(650160),C=a(753143),h=a(941404),O=a(79077),R=a(378888),I=a(510928),f=a(707353),D=a(547362),N=a(831373),M=a(603316);let b=0;function v(){let e=(0,y.Z)(),t=(0,i.Z)(),a=(0,A.B)(),v=(0,O.Z)(),{isRequirementEnabled:P}=(0,f.vI)(),L=(0,T.Z)();return(0,s.useCallback)((s,{loggingOptions:{signupContext:i,signupAttemptContextEvent:T}})=>{let y=e=>{t({...T,event_type:e,aux_data:{...T.aux_data,upsell_reason:T.aux_data?.upsell_reason||(0,C.M0)().getItem(n.bg)||null,upsell_view_count:(0,C.M0)().getItem(n.w0)||0}}),7487===e&&(0,C.M0)().setItem(n.w0,0)},A=async({isRetrying:e})=>{let T={...s},O=(0,N.t_)(),f=(0,D.O)(),w=window?.location?.search??null,x=(0,R.mB)(w).utm_campaign;O&&(T={...T,visited_pages:O}),f&&(T={...T,referrer:f}),x&&(T={...T,utm_campaign:x});let U=(0,C.M0)().getItem(n.e9)||[];if(O)T={...T,visited_pages:O};else if(U){let e=[];for(let t of U)t.is_shared_pin&&e.push({ts:t.ts,path:t.path,first_pin_image_signature:t.image_signature,is_shared:!0});e&&(T={...T,visited_pages:JSON.stringify(e.concat(JSON.parse(O||"[]")))})}let k=(0,E.Z)({isComplianceFeatureRequired:P,viewType:10});k.length>0&&(T={...T,privacy_disclaimer_acknowledge:k}),T={...T,user_behavior_data:JSON.stringify({})};let Z=(0,S.yV)(T);return(e||(y(7537),v({action:"signup",event:"attempt",trigger:i?.trigger,type:Z})),(0,M.nP)("webapp.debug_signup_type.core_register",{sampleRate:1,tags:{CHECK_TYPE:(0,S.Eh)(T,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,S.Eh)(T,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,S.Eh)(T,"DEPRECATED_CHECK_TRUTHY")}}),"email"===Z&&await (0,u.Lq)({fingerprintData:T.fingerprintData,source:_.Ef.SIGNUP,logContextEvent:t}))?Promise.reject({isArkoseChallengeRequired:!0}):(T=(0,u.NW)(T),o.Z.create("UserRegisterResource",T).callCreate().then(()=>(()=>{let{country:e,countryFromHostName:s,countryFromIp:o,regionFromIp:_}=a;L.checkExperiment("web_install_sw_on_unauth_landing").anyEnabled||(0,g.Z)("signup"),d.zN(r.Mq.name),d.zN(r.x2.name),(0,l.Z)(),d.t8(r.Xh,"1"),(0,c.Z)(!0),(0,C.M0)().removeItem(n._b);let u=i?.container||"container_unknown";(0,h.My)(`signup.container.${u}`);let E=i?.signupSource||"signupSource_unknown";(0,h.My)(`signup.source.${E}`),t({event_type:"home_page"===u?1750:1754}),(0,h.My)(`signup_referrer_module.${String((0,I.Z)().referrer||"unknown")}`),(0,m.ko)({country:e,countryFromHostName:s,countryFromIp:o,regionFromIp:_,deviceType:"Desktop",eventCategory:"NewUsers"}),y(7487),v({action:"signup",event:"success",referrer:(()=>{let e=document.referrer;return e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"})(),trigger:i?.trigger,type:Z})})(),e=>(e=>{if(e.api_error_code===p.tz&&((0,h.My)("multi_step_set_age_restrict_cookie"),d.t8(r.It,"1",(0,d.kZ)(r.It))),(!e.api_error_code||[p.dO,p.cZ].includes(e.api_error_code))&&b<3)return(0,h.My)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(i?.container)}`),b+=1,A({isRetrying:!0});throw y(7488),v({action:"signup",event:"fail",trigger:i?.trigger,type:Z}),e})(e)))};return e(),A({isRetrying:!1})},[e,P,t,a,v,L])}},515085:function(e,t,a){a.d(t,{Z:()=>s});function s(e){let t=e.userAgent.isMobile?"mobile":"desktop";return`${t}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}},638957:function(e,t,a){a.d(t,{Z:()=>s});let s=({isComplianceFeatureRequired:e,viewType:t})=>{let a=[];return e({requirementEnum:0,viewType:t})&&a.push("fdbr"),a.join(",")}},872133:function(e,t,a){a.d(t,{default:()=>y});var s=a(255581),r=a(575108),o=a(111330),n=a(785873),l=a(464332),i=a(816358),d=a(959989),_=a(650160),u=a(843466),c=a(753143),E=a(238589),p=a(694955),S=a(941404),T=a(902391);async function y(e={logoutOnAbort:!1},t,a){let{redirectUrl:m,localStorageItems:A,logoutOnAbort:g,reason:C="user_initiated",source:h}=e,O=(0,c.M0)();if("authentication_failed"===C&&O.getItem(o.co))return;(0,S.yl)(!0),i.Z.pause(),t(),O.setItem(o.co,!0);let R=a?"web_desktop":"web_mobile";(0,S.tj)("logout.attempt",{tags:{app:R,reason:C,source:h}});try{await r.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete()}catch(e){if(O.setItem(o.co,!1),g&&e?.type==="abort")(0,S.tj)("logout.logout_ignored",{tags:{app:R,reason:C,source:h}});else throw(0,S.tj)("logout.error",{tags:{app:R,reason:C,source:h}}),e}(0,S.tj)("logout",{tags:{app:R,reason:C,source:h}}),E.ZP.clear();let I=[[o.V6,null]].map(([e,t])=>[e,O.getItem(e)]);O.clear(),I.forEach(([e,t])=>O.setItem(e,t)),l.t8(s.e7,"True",(0,l.kZ)(s.e7)),l.t8(s.yu,new Date().toLocaleDateString(),(0,l.kZ)(s.yu)),a||(0,T.E)(!1),A&&((0,d.r8)(A.multipleAccountMap),(0,d.M3)(A.multipleAccountGroupId)),a?await (0,_.Z)("logoutWithOptions"):await (0,u.Z)(),(0,n.Z)(m||p.ZEf)}},503863:function(e,t,a){a.d(t,{T:()=>s,Z:()=>o});let{Provider:s,get:r}=(0,a(729434).Z)("NotificationContext"),o=r},802664:function(e,t,a){a.d(t,{Z:()=>u});var s=a(281098),r=a(667294),o=a(78730),n=a(980787),l=a(872133),i=a(593891),d=a(15667),_=a(785893);function u({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("AuthenticationProvider","/app/packages/pinterest-authentication/AuthenticationProvider.tsx")},[]);let t=(0,o.N)(),a=(0,d.B)(),{flushContextEvents:u}=(0,n.u)(),c=(0,r.useCallback)(e=>(0,l.default)(e,u,!0),[u]),E=(0,r.useMemo)(()=>({loginContext:{appType:t.app_type_detailed,facebookToken:a.facebookToken,origin:a.origin,referrer:a.referrerFromCookie,unauthId:a.unauthId},logout:c}),[t.app_type_detailed,a.facebookToken,a.referrerFromCookie,a.origin,a.unauthId,c]);return(0,_.jsx)(i.o_,{value:E,children:e})}},959989:function(e,t,a){a.d(t,{M3:()=>_,PE:()=>l,Q:()=>u,lv:()=>i,r8:()=>n,rl:()=>o,yW:()=>d});var s=a(111330),r=a(753143);let o=()=>(0,r.M0)().getItem(s.uo)??Object.freeze({}),n=e=>(0,r.M0)().setItem(s.uo,e),l=()=>null!==(0,r.M0)().getItem(s.uo),i=()=>Object.keys(o()).length,d=()=>(0,r.M0)().getItem(s.R1),_=e=>(0,r.M0)().setItem(s.R1,e),u=()=>({multipleAccountMap:o(),multipleAccountGroupId:d()})},699615:function(e,t,a){a.d(t,{Z:()=>_});var s=a(281098),r=a(667294),o=a(20256),n=a(32937),l=a(87853),i=a(647709),d=a(785893);function _({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("ToastManager","/app/packages/ui/ToastManager.tsx")},[]);let[t,a]=(0,r.useState)([]),_=(0,r.useRef)(0),u=(0,i.ZP)(),c=()=>{let e=_.current;return _.current+=1,`toast${e}`},E=(0,r.useMemo)(()=>({showOneToast:e=>{a([{name:c(),component:e}])},showToast:e=>{a(t=>[...t,{name:c(),component:e}])}}),[a]);return(0,d.jsxs)(l.Zo,{value:E,children:[e,(0,d.jsx)(n.Z,{children:(0,d.jsx)(o.mh,{children:(0,d.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===u?{bottom:"14px"}:{top:"phone"===u?56:80}}},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new o.Ry(1500),children:t.map(({name:e,component:t})=>{if(t)return(0,d.jsx)(t,{hideToast:()=>{a(t=>{let a=[...t],s=a.findIndex(t=>t.name===e);return -1!==s&&a.splice(s,1),a})}},e)})})})})]})}},572257:function(e,t,a){a.d(t,{Z:()=>r});var s=a(686319);function r(){return async()=>{let e=await (0,s.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},642483:function(e,t,a){a.d(t,{a:()=>c,B:()=>_});var s=a(667294),r=a(729434),o=a(686319);let n={boardMap:{}};function l(e,t){if(e=e||n,"BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:a,blockingActions:s}}=t,r=null,o=null,n={};return s.forEach(({section_id:e,progress:t,id:a,created_timestamp:s})=>{let l={id:a,createdAt:s,progress:t};e?"-1"===e?r=l:n[e]=l:o=l}),{...e,boardMap:{...e.boardMap,[a]:{wholeBoard:r,unorganized:o,sectionMap:n}}}}return e}var i=a(785893);let{Provider:d,getMaybe:_}=(0,r.Z)("BlockingAction");async function u(e){let t=await (0,o.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,a)=>{let s=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!s)return void a(Error("No blocking actions found in the response"));e(s)})}function c({children:e}){let[t,a]=(0,s.useReducer)(l,n),r=(0,s.useCallback)(e=>u(e).then(t=>(a({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),o=(0,s.useMemo)(()=>({blockingActions:t,fetchBlockingActions:r}),[t,r]);return(0,i.jsx)(d,{value:o,children:e})}},464876:function(e,t,a){a.d(t,{dd:()=>N,Yi:()=>I,Pf:()=>R,Sx:()=>C,sO:()=>T,MC:()=>A,HU:()=>S,Dw:()=>O,vg:()=>D,nC:()=>g,KJ:()=>y,jn:()=>f,Dl:()=>M,nU:()=>m,Un:()=>h});var s=a(667294),r=a(312048),o=a(729434),n=a(686319),l=a(506662),i=a(675973);let d={payload:{},type:null},_={businessId:"",business:null,managerId:"",manager:null,businessHierarchyId:"",businessHierarchy:null,detailId:"",profile:null,adAccount:null,selectedAudience:null,isActingUserReseller:null,partnerId:"",employeeId:"",intents:d,modal:{modalType:null},lastFetchedBusinessId:"",businessExperiments:{}};function u(e,t){switch(e=e||_,t.type){case"SET_ROUTER_PARAMS":return{...e,businessId:t.payload.businessId??"",detailId:t.payload.detailId??""};case"SET_SELECTED_BUSINESS":return{...e,businessId:t.payload.business?.user.id??"",business:t.payload.business};case"SET_CEE_MIGRATION_INFO":return{...e,ceeMigrationInfo:t.payload.ceeMigrationInfo};case"SET_SELECTED_BUSINESS_HIERARCHY":return{...e,businessHierarchyId:t.payload.businessHierarchy?.id||"",businessHierarchy:t.payload.businessHierarchy};case"SET_SELECTED_ORGANIZATION_MANAGER":return{...e,managerId:t.payload.manager?.user.id??"",manager:t.payload.manager};case"SET_SELECTED_DETAIL":return{...e,detailId:t.payload.detailId??""};case"SET_SELECTED_PROFILE":return{...e,profile:t.payload.profile};case"SET_SELECTED_AD_ACCOUNT":return{...e,adAccount:t.payload.adAccount};case"SET_SELECTED_AUDIENCE":return{...e,selectedAudience:t.payload.audience};case"SET_SELECTED_PARTNER_ID":return{...e,partnerId:t.payload.partnerId};case"SET_SELECTED_EMPLOYEE_ID":return{...e,employeeId:t.payload.employeeId};case"SET_IS_ACTING_USER_RESELLER":return{...e,isActingUserReseller:t.payload.isActingUserReseller};case"SET_LAST_FETCHED_BUSINESS_ID":return{...e,lastFetchedBusinessId:t.payload.businessId};case"SET_BUSINESS_EXPERIMENTS":return{...e,businessExperiments:t.payload.experiments};case"CLEAR_INTENT":case"OPEN_SHEET":return{...e,intents:function(e,t){switch(t.type){case"CLEAR_INTENT":return d;case"OPEN_SHEET":let{type:a,payload:s}=t;return{type:a,payload:s};default:return e}}(e.intents,t)};case"SET_MODAL":case"CLEAR_MODAL":return{...e,modal:function(e,t){switch(t.type){case"SET_MODAL":return t.payload;case"CLEAR_MODAL":return{modalType:null};default:return e}}(e.modal,t)};default:return e}}var c=a(430635),E=a(785893);let{Provider:p,get:S}=(0,o.Z)("BusinessAccess");function T({children:e}){let[t,a]=(0,s.useReducer)(u,_),r=(0,s.useMemo)(()=>({setRouterParams:({detailId:e,businessId:t})=>a({type:"SET_ROUTER_PARAMS",payload:{detailId:e,businessId:t}}),setSelectedBusiness:e=>a({type:"SET_SELECTED_BUSINESS",payload:{business:e}}),setCeeMigrationInfo:e=>a({type:"SET_CEE_MIGRATION_INFO",payload:{ceeMigrationInfo:e}}),setSelectedOrganizationManager:e=>a({type:"SET_SELECTED_ORGANIZATION_MANAGER",payload:{manager:e}}),setSelectedBusinessHierarchy:e=>a({type:"SET_SELECTED_BUSINESS_HIERARCHY",payload:{businessHierarchy:e}}),setSelectedDetail:({detailId:e})=>a({type:"SET_SELECTED_DETAIL",payload:{detailId:e}}),setSelectedProfile:e=>a({type:"SET_SELECTED_PROFILE",payload:{profile:e}}),setSelectedAdAccount:e=>a({type:"SET_SELECTED_AD_ACCOUNT",payload:{adAccount:e}}),setSelectedAudience:e=>a({type:"SET_SELECTED_AUDIENCE",payload:{audience:e}}),setSelectedPartnerId:e=>a({type:"SET_SELECTED_PARTNER_ID",payload:{partnerId:e??""}}),setSelectedEmployeeId:e=>a({type:"SET_SELECTED_EMPLOYEE_ID",payload:{employeeId:e??""}}),setIsActingUserReseller:e=>a({type:"SET_IS_ACTING_USER_RESELLER",payload:{isActingUserReseller:e??!1}}),setLastFetchedBusinessId:e=>a({type:"SET_LAST_FETCHED_BUSINESS_ID",payload:{businessId:e}}),setBusinessExperiments:e=>a({type:"SET_BUSINESS_EXPERIMENTS",payload:{experiments:e}}),clearIntent:()=>a({type:"CLEAR_INTENT"}),openSheet:e=>a({type:"OPEN_SHEET",payload:e}),setAddPeopleModal:()=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE"}}),setAddPeopleInviteConfirmationModal:({inviteIds:e,role:t,isPendingTabActive:s})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_CONFIRMATION",modalProps:{inviteIds:e,role:t,isPendingTabActive:s}}}),setAddPeopleInviteWithAssetsConfirmationModal:({inviteIds:e,invitedPeopleIdentifiers:t})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION",modalProps:{inviteIds:e,invitedPeopleIdentifiers:t}}}),setAddPartnerInviteConfirmationModal:({selectedId:e,role:t,inviteId:s,isReseller:r})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_INVITE_CONFIRMATION",modalProps:{selectedId:e,role:t,inviteId:s,isReseller:r}}}),setRemovePersonModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_PERSON",modalProps:e}}),setRemoveProfilePermissionsModal:({userData:e,selectionType:t,profileId:s,profileName:r,dataToRefresh:o,refreshData:n})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_PROFILE_PERMISSIONS",modalProps:{userData:e,selectionType:t,profileId:s,profileName:r,dataToRefresh:o,refreshData:n}}}),setEditPersonRoleModal:e=>a({type:"SET_MODAL",payload:{modalType:"EDIT_PERSON_ROLE",modalProps:e}}),setInviteRequestPartnerModal:e=>a({type:"SET_MODAL",payload:{modalType:"INVITE_REQUEST_PARTNER",modalProps:{partnershipType:e?.partnershipType,pageForLogger:e?.pageForLogger}}}),setRequestPartnerConfirmationModal:({partnerId:e,role:t,requestId:s})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION",modalProps:{partnerId:e,role:t,requestId:s}}}),setRequestPartnerConfirmationSuccessModal:({requestId:e})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS",modalProps:{requestId:e}}}),setRemoveChildBusinessModal:()=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_CHILD_BUSINESS"}}),setRemoveOrganizationManagerModal:()=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_ORGANIZATION_MANAGER"}}),setRemovePartnerModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_PARTNER",modalProps:{...e}}}),setRemoveSelfEmployeeModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SELF_EMPLOYEE",modalProps:{...e}}}),setRemoveSharedPartnerModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_PARTNER",modalProps:{...e}}}),setRemoveSharedAdAccountModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_AD_ACCOUNT",modalProps:{...e}}}),setCreateAdAccountModal:()=>a({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT"}}),setCreateAdAccountConfirmationModal:({ownerInfo:e,accountInfo:t,refreshData:s})=>a({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT_CONFIRMATION",modalProps:{accountInfo:t,ownerInfo:e,refreshData:s}}}),setAssignAdAccountsModal:({selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,inviteIds:o,peopleIdentifiers:n,roleType:l,showProfiles:i,resellerUserId:d})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNTS",modalProps:{selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,peopleIdentifiers:n,inviteIds:o,roleType:l,showProfiles:i,resellerUserId:d}}}),setRequestAdAccountsModal:({requestId:e,partnerId:t})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS",modalProps:{requestId:e,partnerId:t}}}),setRequestAdAccountsGeneralModal:({partner:e,adAccountsRequested:t})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS_GENERAL",modalProps:{partner:e,adAccountsRequested:t}}}),setEditAdAccountAccessModal:({resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,rolesForAoaa:o,clientBusinessId:n})=>a({type:"SET_MODAL",payload:{modalType:"EDIT_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,rolesForAoaa:o,clientBusinessId:n}}}),setRemoveAdAccountAccessModal:({resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,resourceType:o})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:t,dataToRefresh:s,assignmentType:r,resourceType:o}}}),setOnboardingModal:({onComplete:e,onDismiss:t})=>a({type:"SET_MODAL",payload:{modalType:"ONBOARDING",modalProps:{onComplete:e,onDismiss:t}}}),setSwitchAdAccountModal:({id:e,name:t,owner_user_id:s,merchant_id:r})=>a({type:"SET_MODAL",payload:{modalType:"SWITCH_AD_ACCOUNT",modalProps:{id:e,name:t,owner_user_id:s,merchant_id:r}}}),setAssignProfilesModal:({selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,refreshData:o})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_PROFILES",modalProps:{selectedIds:e,selectionType:t,dataToRefresh:s,assignmentType:r,refreshData:o}}}),setAssignAudiencesModal:({accountTypeSelected:e,displayedAccountType:t,forPartner:s,handleModalDismiss:r,isAudienceOwner:o,audienceAssignmentType:n})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_AUDIENCES",modalProps:{accountTypeSelected:e,displayedAccountType:t,forPartner:s,handleModalDismiss:r,isAudienceOwner:o,audienceAssignmentType:n}}}),setAssignAssetsModal:({selectedIds:e,inviteId:t,dataToRefresh:s})=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_ASSETS",modalProps:{selectedIds:e,inviteId:t,dataToRefresh:s}}}),setRequestProfileAccessModal:({requestId:e,requesteeId:t,profilePermissions:s})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS",modalProps:{requestId:e,requesteeId:t,profilePermissions:s}}}),setRequestCatalogAccessModal:({requestId:e})=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOG_ACCESS",modalProps:{requestId:e}}}),setRequestProfileAccessGeneralModal:()=>a({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS_GENERAL"}}),setAssetGroupsFormModal:e=>a({type:"SET_MODAL",payload:{modalType:"ASSET_GROUPS_FORM",modalProps:e}}),setShareTagModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_FORM",modalProps:e}}),setShareTagSummaryModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_SUMMARY_FORM",modalProps:e}}),setShareTagLegalModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_LEGAL_FORM",modalProps:e}}),setTagGetStartedModal:e=>a({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_GET_STARTED_FORM",modalProps:e}}),setDeleteAssetGroupConfirmationModal:e=>a({type:"SET_MODAL",payload:{modalType:"DELETE_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setAOAAPermissionAssignmentModal:({partnerBusinessInfo:e,ownerInfo:t,accountInfo:s})=>a({type:"SET_MODAL",payload:{modalType:"AOAA_PERMISSION_ASSIGNMENT",modalProps:{partnerBusinessInfo:e,ownerInfo:t,accountInfo:s}}}),setUnsavedPermissionsConfirmationModal:({partnerBusinessInfo:e,ownerInfo:t,accountInfo:s})=>a({type:"SET_MODAL",payload:{modalType:"UNSAVED_PERMISSIONS_CONFIRMATION",modalProps:{partnerBusinessInfo:e,ownerInfo:t,accountInfo:s}}}),setAOAARequestCreationSuccessModal:({partnerBusinessInfo:e,ownerInfo:t,businessIdToPermissions:s})=>a({type:"SET_MODAL",payload:{modalType:"AOAA_REQUEST_CREATION_SUCCESS",modalProps:{partnerBusinessInfo:e,ownerInfo:t,businessIdToPermissions:s}}}),setAddAssetOrUserToAssetGroup:({assetOrMemberType:e,assetGroupInfo:t})=>a({type:"SET_MODAL",payload:{modalType:"ADD_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,assetGroupInfo:t}}}),setAddUserToAssetGroupConfirmation:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_USER_TO_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setRemoveAssetOrUserFromAssetGroup:({assetOrMemberType:e,toRemove:t})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,toRemove:t}}}),setRemoveSystemUserFromApp:({toRemove:e})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_SYSTEM_USER_FROM_APP",modalProps:{toRemove:e}}}),setRemoveAssetFromTag:({assetOrMemberType:e,toRemove:t})=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_FROM_TAG",modalProps:{assetOrMemberType:e,toRemove:t}}}),setAddOrganizationManagersModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS",modalProps:{...e}}}),setAddOrganizationManagersConfirmationModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS_CONFIRMATION",modalProps:{...e}}}),setEditBusinessDetailsModal:e=>a({type:"SET_MODAL",payload:{modalType:"EDIT_BUSINESS_DETAILS",modalProps:e}}),setViewBusinessDetailsModal:e=>a({type:"SET_MODAL",payload:{modalType:"VIEW_BUSINESS_DETAILS",modalProps:e}}),setAddChildBusinessesModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES",modalProps:{...e}}}),setAddChildBusinessesConfirmationModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES_CONFIRMATION",modalProps:e}}),setSelectAdAccountToShareFromModal:()=>a({type:"SET_MODAL",payload:{modalType:"SELECT_AD_ACCOUNT_TO_SHARE_FROM"}}),setAddAdAccountModal:()=>a({type:"SET_MODAL",payload:{modalType:"ADD_AD_ACCOUNT"}}),setRequiredRMAAInformationModal:e=>a({type:"SET_MODAL",payload:{modalType:"ADD_REQUIRED_RMAA_INFORMATION",modalProps:e}}),setRMAAUncompleteModal:e=>a({type:"SET_MODAL",payload:{modalType:"RMAA_UNCOMPLETE_MODAL",modalProps:e}}),setSavedRMAAInformationSuccessModal:e=>a({type:"SET_MODAL",payload:{modalType:"SAVED_RMAA_INFORMATION_SUCCESS",modalProps:e}}),setConfirmAssetAccessRequestModal:e=>a({type:"SET_MODAL",payload:{modalType:"CONFIRM_ASSET_ACCESS_REQUEST",modalProps:e}}),setCreateBusinessHierarchyModal:e=>{a({type:"SET_MODAL",payload:{modalType:"CREATE_BUSINESS_HIERARCHY",modalProps:e}})},setUploadBusinessHierarchyAvatarImageModal:e=>{a({type:"SET_MODAL",payload:{modalType:"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE",modalProps:e}})},setBusinessHierarchyCreationSuccessModal:e=>{a({type:"SET_MODAL",payload:{modalType:"BUSINESS_HIERARCHY_CREATION_SUCCESS",modalProps:e}})},setAssignCatalogModal:e=>{a({type:"SET_MODAL",payload:{modalType:"ASSIGN_CATALOG",modalProps:{...e}}})},setRemoveDefaultUtmsConfirmation:e=>{a({type:"SET_MODAL",payload:{modalType:"REMOVE_DEFAULT_UTMS_CONFIRMATION",modalProps:{...e}}})},setCeeMigrationBusinessInformationModal:e=>{a({type:"SET_MODAL",payload:{modalType:"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL",modalProps:e}})},setResellerInviteSentSuccessfulModal:e=>{a({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL",modalProps:e}})},setResellerInviteAcceptedSuccessfulModal:e=>{a({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL",modalProps:e}})},setAddCatalogModal:()=>{a({type:"SET_MODAL",payload:{modalType:"ADD_CATALOG"}})},setRequestCatalogsGeneralModal:e=>{a({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS_GENERAL",modalProps:{...e}}})},setRequestCatalogsModal:e=>{a({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS",modalProps:{...e}}})},setAppSecretKeyModal:e=>{a({type:"SET_MODAL",payload:{modalType:"APP_SECRET_KEY_RESET",modalProps:e}})},setAddEditDomainRestrictionsModal:e=>{a({type:"SET_MODAL",payload:{modalType:"ADD_EDIT_DOMAIN_RESTRICTIONS",modalProps:e}})},setRevokeConversionSegmentAccessModal:e=>a({type:"SET_MODAL",payload:{modalType:"REVOKE_CONVERSION_SEGMENT_ACCESS",modalProps:e}}),setRemoveConversionSegmentModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_SEGMENT",modalProps:e}}),setDeleteConversionSegmentModal:e=>a({type:"SET_MODAL",payload:{modalType:"DELETE_CONVERSION_SEGMENT",modalProps:e}}),setAssignAdAccountToConversionSegmentModal:e=>a({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT",modalProps:e}}),setRemoveConversionDataModal:e=>a({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_DATA",modalProps:e}}),setRevokeCatalogAccessModal:({data:e,refreshData:t,source:s})=>a({type:"SET_MODAL",payload:{modalType:"REVOKE_CATALOG_ACCESS",modalProps:{data:e,refreshData:t,source:s}}}),clearModal:()=>a({type:"CLEAR_MODAL"})}),[]),o=(0,s.useMemo)(()=>({businessAccess:t,...r}),[t,r]);return(0,E.jsx)(p,{value:o,children:e})}function y(e=!1){let{checkExperiment:t}=(0,i.Z)(),a=(0,r.TH)(),{anyEnabled:s}=t("web_business_access_table_reload_fix"),{anyEnabled:o}=t("web_m10n_business_hierarchy_beta"),{businessAccess:{businessId:n}}=S(),{params:{userBizId:d}}=(0,c.Z)();return o&&e&&(0,l.dK)(a)?n:s?d??"":n}function m(e=!1){let{checkExperiment:t}=(0,i.Z)(),a=(0,r.TH)(),{anyEnabled:s}=t("web_business_access_table_reload_fix"),{anyEnabled:o}=t("web_m10n_business_hierarchy_beta"),{businessAccess:{detailId:n}}=S(),{params:{detailId:d}}=(0,c.Z)();return o&&e&&(0,l.dK)(a)?n:s?d??"":n}function A(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{business:a}}=S();return t?a:null}function g(){let{businessAccess:{businessHierarchy:e}}=S();return e}function C(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{manager:a}}=S();return t?a:null}function h(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{profile:a}}=S();return t?a:null}function O(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{adAccount:a}}=S();return t?a:null}function R(){let{businessAccess:{selectedAudience:e}}=S();return e}function I(){let{businessAccess:{partnerId:e}}=S();return e}function f(){let{checkExperiment:e}=(0,i.Z)(),{anyEnabled:t}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{employeeId:a}}=S();return t?a:""}function D(){let{businessAccess:{intents:e}}=S();return e}function N(){let{businessAccess:{modal:e}}=S();return e}async function M(e,t){let a={};try{let t=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/experiments`,method:"GET"});a=(t.resource_response?.data).data}catch(e){}return t(a),a}},199593:function(e,t,a){a.d(t,{Z:()=>o,k:()=>s});let{Provider:s,get:r}=(0,a(729434).Z)("Conversations"),o=r},181444:function(e,t,a){a.d(t,{R:()=>u,U:()=>_});var s=a(667294),r=a(729434),o=a(686319);let n={modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:"",actionFrom:"",prompt:"",nextPageToRedirect:""},l=(e,t)=>{switch(e=e||n,t.type){case"SHOW_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!0,modalTitle:t.payload.title??"",actionFrom:t.payload.actionFrom??"",nextPageToRedirect:t.payload.nextPageToRedirect??"",prompt:t.payload.prompt??""};case"REMOVE_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_STARTED_STARTED":return{...e,isSubmitting:!0,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED":return{...e,isSubmitting:!1,submissionComplete:!0,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_FAILED":return{...e,isSubmitting:!1,submissionComplete:!1,submissionFailure:t.payload.error};default:return e}};var i=a(785893);let{Provider:d,get:_}=(0,r.Z)("InSiteFeedback");function u({children:e}){let[t,a]=(0,s.useReducer)(l,n),r=(0,s.useCallback)((e,t,s,r)=>a({type:"SHOW_IN_SITE_FEEDBACK_MODAL",payload:{title:t,prompt:s,actionFrom:e,nextPageToRedirect:r}}),[]),_=(0,s.useCallback)(()=>a({type:"REMOVE_IN_SITE_FEEDBACK_MODAL",payload:{}}),[]),u=(0,s.useCallback)(()=>a({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),[]),c=(0,s.useCallback)(()=>a({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}}),[]),E=(0,s.useCallback)(e=>a({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e}}),[]),p=(0,s.useCallback)(e=>{if(a({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),!e.verbatim_text||0===e.verbatim_text.trim().length)return void a({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}});(0,o.Z)({url:"/v3/analytics/feedback/",method:"POST",data:{feedback_data:JSON.stringify(e)}}).then(()=>{a({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})}).catch(e=>{a({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e.message}})})},[]),S=(0,s.useMemo)(()=>({inSiteFeedback:t,showInSiteFeedbackModal:r,removeInSiteFeedbackModal:_,submitInSiteFeedbackStarted:u,inSiteFeedbackSubmitSucceeded:c,inSiteFeedbackSubmitFailed:E,submitInSiteFeedback:p}),[t,r,_,u,c,E,p]);return(0,i.jsx)(d,{value:S,children:e})}},710408:function(e,t,a){a.d(t,{P:()=>c,u:()=>u});var s=a(667294),r=a(729434);let o={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function n(e,t){switch(e=e||o,t.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:t.payload.fullName,email:t.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:t.payload.formSubmissions};default:return e}}var l=a(15667),i=a(886981),d=a(785893);let{Provider:_,get:u}=(0,r.Z)("LeadGen");function c({children:e}){let{isLoaded:t,data:a}=(()=>{let{isAuthenticated:e}=(0,l.B)();return(0,i.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)})(),[r,u]=(0,s.useReducer)(n,o),c=(0,s.useCallback)(e=>u({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,s.useEffect)(()=>{t&&u({type:"AUTOFILL_LEADGEN_USER_INFO",payload:{...o,fullName:a?.is_name_eligible_for_lead_form_autofill?a.full_name:"",email:a?.is_email_eligible_for_lead_form_autofill?a.email:""}})},[t,a]);let E=(0,s.useMemo)(()=>({updateLeadGenInfo:c,leadGen:r}),[c,r]);return(0,d.jsx)(_,{value:E,children:e})}},969395:function(e,t,a){a.d(t,{Z:()=>Z});var s=a(281098),r=a(667294),o=a(21954),n=a(184954),l=a(77168),i=a(855860),d=a(78423),_=a(675973),u=a(792171),c=a(164444),E=a(642483),p=a(464876),S=a(575108),T=a(657043),y=a(791948),m=a(991384);let A=(e,t)=>e.data[t]&&e.data[t].messages||[];function g(e,t){let a=new Map;for(let s of e){if(!s)continue;let e=t(s);if(a.has(e)){let t=(0,m.Z)(a.get(e),s);a.set(e,t)}else a.set(e,s)}return[...a.values()]}function C(e){return[...e].sort((e,t)=>new Date(e.created_ms||e.created_at).getTime()-new Date(t.created_ms||t.created_at).getTime())}function h(e,t,a){return C(g(A(e,t).concat(a),e=>e.id))}let O={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function R(e,t){if(e=e||O,"CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!!t.payload.contactRequestId,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){let a={...e,data:{...e.data}},{id:s}=t.payload;return delete a.data[s],a}if("FETCH_COMPLETE"===t.type){let{options:a,resource:s,response:r}=t.payload,o=r.resource_response.data;if("ConversationMessagesResource"===s){let t=o||[],s=a?.conversation_id||"",r=h(e,s,t),n=r[r.length-1];return{...e,data:{...e.data,[s]:{...e.data[s],id:s,messages:r,unread:0,last_message:n}}}}if("ConversationsResource"===s){let t=o||[],a={...e,data:{...e.data}};return t.forEach(e=>{let{id:t,created_at:s,name:r,board:o,emails:n,unread:l,users:i,last_message:d}=e,_=h(a,t,[d]);a.data[t]={...a.data[t],id:t,created_at:s,name:r,board:o,emails:n||[],unread:l||0,users:i||[],last_message:d,messages:_}}),a}if("ConversationResource"===s||"ApiResource"===s&&a.url===`/v3/conversations/${a.data?.conversation_id}/`){let t=o||{},{id:a}=t,s={...e,data:{...e.data}};return a&&(s.data[a]={...s.data[a],...t}),s}if("NewsHubBadgeResource"===s&&o){let t=o.conversations_unseen_count||0;return{...e,unread:t}}}else if("MESSAGE_SEND_PENDING"===t.type){let{id:a,message:s}=t.payload;if(e.data[a])return{...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:[...e.data[a].messages,s]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){let{id:a,tempMessage:s,newMessage:r}=t.payload;if(e.data[a]&&A(e,a).find(e=>e.id===s.id&&e.created_ms===s.created_ms)){let t=C(g(A(e,a).filter(e=>e.id!==s.id).concat([r]),e=>e.id));return{...e,data:{...e.data,[a]:{...e.data[a],last_message:r,messages:t}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){let{id:a,tempMessageId:s}=t.payload;if(e.data[a]){let t=A(e,a).filter(e=>e.id!==s);return{...e,data:{...e.data,[a]:{...e.data[a],messages:t}}}}}else if("MESSAGE_DELETE"===t.type){let{id:a,messageId:s}=t.payload;if(e.data[a]){let t=A(e,a).map(e=>e.id===s?{...e,deleted_by:2}:e);return{...e,data:{...e.data,[a]:{...e.data[a],messages:t}}}}}else if("OPEN_NEW_MESSAGE"===t.type){let{objectAttachment:a}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:a}}else if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};else if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};else if("CLEAR_MESSAGE_BADGE"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===t.type){let{id:a,position:s}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],position:s}}}}else if("CONVERSATION_RESET_POSITION"===t.type){let{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===t.type){let{objectAttachment:a}=t.payload;return{...e,objectAttachment:a}}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null};return e}var I=a(199593),f=a(785893);function D({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("ConversationsContext","/app/www/ConversationsContext/ConversationsContext.tsx")},[]);let[t,a]=(0,r.useReducer)(R,O),o=(0,r.useCallback)(e=>a({type:"FETCH_COMPLETE",payload:e}),[]);(0,y.Z8)("ConversationMessagesResource",o),(0,y.my)("ConversationMessagesResource",o),(0,y.Z8)("ConversationsResource",o),(0,y.Z8)("ConversationResource",o),(0,y.Z8)("NewsHubBadgeResource",o),(0,y.Z8)("ApiResource",o);let n=(0,r.useCallback)((e,t=!1,s="")=>a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:s}}),[]),l=(0,r.useCallback)((e,t="",s=!1)=>a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:s}}),[]),i=(0,r.useCallback)(e=>a({type:"CONVERSATION_CREATE",payload:e}),[]),d=(0,r.useCallback)(e=>a({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),_=(0,r.useCallback)((e,t)=>a({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}}),[]),u=(0,r.useCallback)(e=>a({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),c=(0,r.useCallback)((e,t,s)=>{S.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{a({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(e=>{s((0,T.Z)(e,"message_detail")||(0,T.Z)(e,"message")||"")})},[]),E=(0,r.useCallback)(()=>{a({type:"CLOSE_DROPDOWN"})},[]),p=(0,r.useCallback)(()=>{a({type:"OPEN_DROPDOWN"})},[]),m=(0,r.useCallback)(e=>{a({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),A=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}),[]),g=(0,r.useCallback)((e,t,s)=>a({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:s}}),[]),C=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}}),[]),h=(0,r.useCallback)((e,t)=>a({type:"MESSAGE_DELETE",payload:{id:e,messageId:t}}),[]),D=(0,r.useCallback)(e=>a({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),N=(0,r.useCallback)(e=>a({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),M=(0,r.useCallback)(e=>a({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),b=(0,r.useCallback)(e=>a({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),v=(0,r.useCallback)(()=>a({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),P=(0,r.useMemo)(()=>({clearMessageBadge:M,conversationOpen:n,conversationClose:l,conversationCreate:i,conversationDelete:d,conversationGet:c,saveConversationPosition:_,resetConversationPosition:u,dropdownClose:E,dropdownOpen:p,newMessageOpen:m,pendingMessageSend:A,pendingMessageSuccess:g,pendingMessageFailure:C,deleteMessage:h,updateNewsHubCount:D,updateUnreadCount:N,conversations:t,setObjectAttachment:b,removeObjectAttachment:v}),[M,n,l,i,d,c,_,u,E,p,m,A,g,C,h,D,N,t,b,v]);return(0,f.jsx)(I.k,{value:P,children:e})}var N=a(161343);function M({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("EducationProvider","/app/www/Education/EducationProvider.tsx")},[]);let[t,a]=(0,r.useState)(null),o=(0,r.useMemo)(()=>[t,a],[t]);return(0,f.jsx)(N.Z,{value:o,children:e})}var b=a(181444),v=a(710408),P=a(859685),L=a(314011),w=a(493812),x=a(702574),U=a(889539),k=a(666811);function Z({children:e}){(0,r.useEffect)(()=>{(0,s.Z)("AuthDesktopProviders","/app/www/PageWrapper/AuthDesktopProviders.tsx")},[]);let t=(0,_.Z)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?r.Fragment:i.r;return(0,f.jsx)(D,{children:(0,f.jsx)(u.W,{children:(0,f.jsx)(x.l,{children:(0,f.jsx)(M,{children:(0,f.jsx)(k.X,{children:(0,f.jsx)(v.P,{children:(0,f.jsx)(U.j,{children:(0,f.jsx)(b.R,{children:(0,f.jsx)(d.CB,{children:(0,f.jsx)(p.sO,{children:(0,f.jsx)(n.FE,{children:(0,f.jsx)(l.H,{children:(0,f.jsx)(t,{children:(0,f.jsx)(w.yh,{children:(0,f.jsx)(o.r,{children:(0,f.jsx)(L.C,{children:(0,f.jsx)(E.a,{children:(0,f.jsx)(P.xM,{children:(0,f.jsx)(c.i,{children:e})})})})})})})})})})})})})})})})})})})}},702574:function(e,t,a){a.d(t,{l:()=>_,o:()=>d});var s=a(667294),r=a(729434),o=a(791948);function n(e,t){if(e=e||{},"SUGGESTIONS_FETCH_COMPLETE"===t.type){let{payload:a}=t;if("ShareSuggestionsResource"===a.resource){let s=t.payload.response.resource_response.data||[],{term:r=""}=a.options??{};return{...e,[r]:s}}if("ShareSuggestionsTypeaheadResource"===a.resource){let s=(t.payload.response.resource_response.data||{}).items||[],{term:r=""}=a.options??{};return{...e,[r]:s}}}return e}var l=a(785893);let{Provider:i,get:d}=(0,r.Z)("ShareSuggestions");function _({children:e}){let[t,a]=(0,s.useReducer)(n,{}),r=e=>{a({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,o.Z8)("ShareSuggestionsResource",r),(0,o.Z8)("ShareSuggestionsTypeaheadResource",r);let d=(0,s.useMemo)(()=>({shareSuggestions:t}),[t]);return(0,l.jsx)(i,{value:d,children:e})}},889539:function(e,t,a){a.d(t,{l:()=>d,j:()=>_});var s=a(667294),r=a(729434);let o={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},n=(e,t)=>{switch(e=e||o,t.type){case"STL_SELECT":return{...e,selectedStlItemId:t.payload.selectedStlItemId};case"STL_SHEET":return{...e,currentPinDraftId:t.payload.currentPinDraftId};case"STL_TAGGED_PIN":return{...e,stlTaggedCoords:t.payload.stlTaggedCoords};case"STL_ERROR_STATE":return{...e,stlCallout:{showCallout:t.payload.stlCallout.showCallout,type:t.payload.stlCallout.type}};case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return{...e,mostRecentTaggedObjectId:t.payload.mostRecentTaggedObjectId};case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return{...e,stlHoveredTaggedObjectId:t.payload.stlHoveredTaggedObjectId};default:return e}};var l=a(785893);let{Provider:i,get:d}=(0,r.Z)("ShopTheLook");function _({children:e}){let[t,a]=(0,s.useReducer)(n,o),r=(0,s.useMemo)(()=>({shopTheLook:t,setStlSelection:e=>{a({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:e=>{a({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:e=>{a({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:({showCallout:e,type:t})=>{a({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:t}}})},setMostRecentTaggedObjectId:e=>{a({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:e=>{a({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}),[t]);return(0,l.jsx)(i,{value:r,children:e})}},732347:function(e,t,a){a.d(t,{N4:()=>o,Wh:()=>s,hr:()=>r});let s=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},666811:function(e,t,a){a.d(t,{X:()=>_,Z:()=>d});var s=a(667294),r=a(729434),o=a(453179);function n(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,auxData:t.payload.auxData,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=a(785893);let{Provider:i,get:d}=(0,r.Z)("ReportData");function _({children:e}){let[t,a]=(0,s.useReducer)(n,null),r=(0,s.useCallback)(()=>a({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,s.useCallback)((e,t,s)=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:s,nodeId:null}}),[]),_=(0,s.useCallback)((e,t,s)=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:s,type:"conversation",nodeId:null}}),[]),u=(0,s.useCallback)(({id:e,viewParameter:t,viewType:s,nodeId:r})=>a({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:s,type:"pin",nodeId:r}}),[]),c=(0,s.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:s,firstVideoDuration:r,isProduct:n,viewParameter:l,viewType:i,isThirdPartyAd:d,nodeId:_,auxData:u})=>{a({type:"REPORT_CONTENT_SHOW",payload:{id:e,auxData:u,isProduct:n,isPromoted:(0,o.jL)(t,s),videoDuration:r,viewParameter:l,viewType:i,type:"pin",isThirdPartyAd:d,nodeId:_}})},[]),E=(0,s.useMemo)(()=>({reportData:t,dismiss:r,reportComment:d,reportConversation:_,reportImage:u,reportPin:c}),[t,r,d,_,u,c]);return(0,l.jsx)(i,{value:E,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/93225-11f0fcd043fd09d9.mjs.map